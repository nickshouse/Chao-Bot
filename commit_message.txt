Refactored code to improve readability and performance
- Fixed bug causing incorrect data to be displayed
- Updated dependencies to latest versions